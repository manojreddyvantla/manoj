<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Mega Event 2026</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #f4f6f9;
        }

        /* NAV */
        nav {
            background: #0a192f;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav h2 {
            color: white;
            margin: 0;
        }

        nav ul {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }

        nav ul li a:hover {
            color: #64ffda;
        }

        /* HERO */
        .hero {
            background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
            color: white;
            text-align: center;
            padding: 80px 20px;
        }

        .hero h1 {
            font-size: 40px;
        }

        .hero button {
            padding: 12px 30px;
            background: #64ffda;
            border: none;
            font-size: 18px;
            border-radius: 6px;
            cursor: pointer;
        }

        /* SECTION */
        section {
            padding: 50px 20px;
            text-align: center;
        }

        /* FORM */
        form {
            max-width: 400px;
            margin: auto;
            display: flex;
            flex-direction: column;
        }

        form input,
        select {
            margin: 10px 0;
            padding: 10px;
        }

        form button {
            padding: 12px;
            background: #0a192f;
            color: white;
            border: none;
            cursor: pointer;
        }

        /* TAKE TEST */
        #takeTest button {
            margin-top: 20px;
            padding: 18px 60px;
            font-size: 22px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        /* EXAM */
        #exam {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #020617;
            z-index: 9999;
            overflow-y: auto;
            padding-top: 80px;
            color: white;
        }

        .exam-header {
            height: 80px;
            background: #020617;
            color: white;
            padding: 0 30px;
            position: fixed;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timer {
            font-size: 28px;
            background: #22c55e;
            padding: 10px 25px;
            border-radius: 30px;
            font-weight: bold;
        }

        .exam-box {
            max-width: 750px;
            margin: 40px auto;
            background: rgba(78, 27, 27, 0.08);
            padding: 35px;
            border-radius: 15px;
        }

        .question {
            display: none;
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .question.active {
            display: block;
        }

        .question h3 {
            margin-top: 0;
            color: #64ffda;
        }

        .question label {
            display: block;
            margin: 15px 0;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .question label:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        .nav-btn {
            flex: 1;
            padding: 15px;
            font-size: 18px;
            background: #64748b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .nav-btn:hover {
            background: #475569;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .submit-btn {
            background: #22c55e !important;
        }

        .submit-btn:hover {
            background: #16a34a !important;
        }

        /* RESULT */
        #finalResult {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #020617;
            z-index: 20000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            text-align: center;
            padding: 20px;
        }

        #bigScore {
            font-size: 60px;
            margin-bottom: 20px;
            color: #64ffda;
        }

        footer {
            background: #0a192f;
            color: white;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>

<body>

    <nav>
        <h2>Mega Event 2026</h2>
    </nav>

    <div class="hero">
        <h1>Welcome to the Ultimate College Challenge</h1>
        <button onclick="document.getElementById('register').scrollIntoView();">Register Now</button>
    </div>

    <section id="register">
        <div id="registerBox">
            <form onsubmit="submitForm(event)">
                <input required placeholder="Name">
                <input required placeholder="Email">
                <input required placeholder="Department">
                <select required>
                    <option>Select Year</option>
                    <option>1st</option>
                    <option>2nd</option>
                    <option>3rd</option>
                    <option>4th</option>
                </select>
                <button>Submit</button>
            </form>
        </div>

        <div id="takeTest" style="display:none">
            <h3>Registration Successful ðŸŽ‰</h3>
            <button onclick="startExam()">TAKE TEST</button>
        </div>
    </section>

    <!-- EXAM -->
    <div id="exam">
        <div class="exam-header">
            <h2>Online Test</h2>
            <div class="timer" id="timer">10:00</div>
        </div>

        <div class="exam-box">
            <div id="questionContainer"></div>

            <div class="nav-buttons">
                <button class="nav-btn" id="prevBtn" onclick="prevQuestion()" disabled>Previous</button>
                <button class="nav-btn submit-btn" id="nextBtn" onclick="nextQuestion()">Next</button>
            </div>
        </div>
    </div>

    <!-- RESULT -->
    <div id="finalResult">
        <div id="bigScore"></div>
        <h2>Thank You For Participating ðŸŽ‰</h2>
        <button onclick="location.reload()"
            style="padding:15px 40px;font-size:20px;background:#64ffda;color:#0a192f;border:none;border-radius:8px;cursor:pointer;">Back
            To Home</button>
    </div>

    <footer>
        Â© 2026 College Mega Event
    </footer>

    <script>
        /* QUESTION BANK - FIXED STRUCTURE */
        const questionBank = [
            { q: "What does HTML stand for?", o: ["Hyper Text Makeup Language", "Hyper Text Markup Language", "Hyper Transfer Markup Language", "Home Tool Markup Language"], a: 1 },
            { q: "CSS stands for?", o: ["Creative Style Sheets", "Cascading Style Sheets", "Computer Style Sheets", "Colorful Style Sheets"], a: 1 },
            { q: "JavaScript is a?", o: ["Compiler Language", "Markup Language", "Scripting Language", "Styling Language"], a: 2 },
            { q: "Which property controls text size?", o: ["text-size", "font-size", "text-style", "font-style"], a: 1 },
            { q: "Which HTML tag defines table?", o: ["&lt;table&gt;", "&lt;tab&gt;", "&lt;tbl&gt;", "&lt;td&gt;"], a: 0 },
            { q: "Alternate text attribute?", o: ["alt", "title", "src", "longdesc"], a: 0 },
            { q: "How to print in JS?", o: ['print("Hello")', 'echo("Hello")', 'console.log("Hello")', 'response.write("Hello")'], a: 2 },
            { q: "Background color property?", o: ["background-color", "color", "background", "bgcolor"], a: 0 },
            { q: "Create function?", o: ["function = myFunction()", "function myFunction()", "function: myFunction()", "function myFunction{}"], a: 1 },
            { q: "Which tag defines internal CSS?", o: ["&lt;style&gt;", "&lt;css&gt;", "&lt;script&gt;", "&lt;link&gt;"], a: 0 },
            { q: "Which symbol is used for comments in JS?", o: ["//", "&lt;!-- --&gt;", "#", "**"], a: 0 },
            { q: "Which method adds element at end of array?", o: ["push()", "pop()", "shift()", "unshift()"], a: 0 }
        ];

        /* VARIABLES */
        let selectedQuestions = [];
        let questions = [];
        let currentQuestion = 0;
        let time = 600;
        let timerInterval;

        /* REGISTER */
        function submitForm(e) {
            e.preventDefault();
            document.getElementById('registerBox').style.display = "none";
            document.getElementById('takeTest').style.display = "block";
        }

        /* SHUFFLE */
        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        /* START EXAM */
        function startExam() {
            document.body.style.overflow = "hidden";
            document.getElementById('exam').style.display = "block";

            selectedQuestions = shuffle([...questionBank]).slice(0, 10);
            loadQuestions();

            currentQuestion = 0;
            showQuestion(currentQuestion);

            time = 600;
            startTimer();
        }

        /* LOAD QUESTIONS - FIXED */
        function loadQuestions() {
            const container = document.getElementById("questionContainer");
            container.innerHTML = "";

            selectedQuestions.forEach((q, index) => {
                let div = document.createElement("div");
                div.className = "question";
                if (index === 0) div.classList.add("active");

                let html = `<h3>${index + 1}. ${q.q}</h3>`;

                // FIXED: Shuffle options and create correct radio inputs
                let shuffledOptions = shuffle([...q.o]);
                shuffledOptions.forEach((option, optIndex) => {
                    const correctIndex = q.o.indexOf(option);
                    html += `
                <label>
                    <input type="radio" name="q${index}" value="${correctIndex}">
                    ${option}
                </label>
            `;
                });

                div.innerHTML = html;
                container.appendChild(div);
            });

            questions = document.querySelectorAll('.question');
        }

        /* NAVIGATION */
        function showQuestion(index) {
            questions.forEach(q => q.classList.remove("active"));
            questions[index].classList.add("active");

            document.getElementById("prevBtn").disabled = index === 0;

            const nextBtn = document.getElementById("nextBtn");
            if (index === 9) {
                nextBtn.textContent = "Submit Exam";
                nextBtn.onclick = submitExam;
            } else {
                nextBtn.textContent = "Next";
                nextBtn.onclick = nextQuestion;
            }
        }

        function nextQuestion() {
            if (currentQuestion < 9) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        /* TIMER */
        function startTimer() {
            timerInterval = setInterval(() => {

                let m = Math.floor(time / 60);
                let s = time % 60;
                document.getElementById("timer").innerHTML =
                    (m < 10 ? "0" + m : m) + ":" + (s < 10 ? "0" + s : s);

                if (time <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                }
                time--;
            }, 1000);
        }

        /* SUBMIT */
        function submitExam() {
            clearInterval(timerInterval);

            let score = 0;
            questions.forEach((qDiv, index) => {
                let checked = qDiv.querySelector("input:checked");
                if (checked && parseInt(checked.value) === selectedQuestions[index].a) {
                    score++;
                }
            });

            document.getElementById("exam").style.display = "none";
            document.body.style.overflow = "auto";
            document.getElementById("finalResult").style.display = "flex";
            document.getElementById("bigScore").innerHTML = "Your Score: " + score + " / 10";
        }
    </script>

</body>

</html>